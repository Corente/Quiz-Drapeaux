(this["webpackJsonpquizz-drapeaux"]=this["webpackJsonpquizz-drapeaux"]||[]).push([[0],{30:function(e,t,c){},31:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c.n(s),r=c(14),i=c.n(r),a=c(8),j=c(2),o=c(0),u=function(){return Object(o.jsxs)("div",{className:"navigation",children:[Object(o.jsx)(a.b,{exact:!0,to:"/",activeClassName:"nav-active",children:"Accueil"}),Object(o.jsx)(a.b,{exact:!0,to:"Classement",activeClassName:"nav-active",children:"Classement"}),Object(o.jsx)(a.b,{exact:!0,to:"Quizz",activeClassName:"nav-active",children:"Quizz"}),Object(o.jsx)(a.b,{exact:!0,to:"a-propos",activeClassName:"nav-active",children:"A propos"})]})},b=function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)(u,{}),Object(o.jsx)("h1",{children:"\xc0 propos"}),Object(o.jsx)("br",{}),Object(o.jsx)("p",{children:"Petit jeu de g\xe9o pour apprendre le react."}),Object(o.jsx)("p",{children:"Cr\xe9e par Corentin Ourvoy."}),Object(o.jsx)("p",{children:"Pas de Rgpd car je stocke 0 info personelle."})]})},l=function(){return Object(o.jsxs)("div",{className:"home",children:[Object(o.jsx)(u,{}),Object(o.jsx)("h1",{children:"Bonjour le site"}),Object(o.jsx)("p",{children:"Une petite app en react pour apprendre cte truc."}),Object(o.jsx)("p",{children:"Elle te permet de te tester sur tes conaissances des drapeaux."}),Object(o.jsx)("p",{children:"Essaie d'avoir le plus gros score possible en 2 minutes."})]})},d=function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"Erreur 404"}),Object(o.jsx)("br",{}),Object(o.jsx)("p",{children:"Deso que tu te sois perdu."})]})},O=c(4),h=function(e){var t=Object(s.useState)(""),c=Object(O.a)(t,2),n=c[0],r=c[1],i=Object(s.useState)(!0),a=Object(O.a)(i,2),j=a[0],u=a[1],b=Object(s.useState)(""),l=Object(O.a)(b,2),d=l[0],h=l[1],x=Object(s.useState)([]),p=Object(O.a)(x,2),m=p[0],v=p[1],f=Object(s.useState)(null),S=Object(O.a)(f,2),g=S[0],C=S[1],z=Object(s.useState)(!1),N=Object(O.a)(z,2),y=N[0],P=N[1];function E(){var e="https://api.quiz.ourvoy.fr/country/"+Math.floor(195*Math.random());console.log(e),fetch(e).then((function(e){return e.json()})).then((function(e){P(!0),console.log(e),h(e.ImageURL),v(e.Nom)}),(function(e){P(!0),C(e)})),r("")}return Object(s.useEffect)((function(){j&&(u(!1),E());!function(){for(var t in m)m[t].toLocaleLowerCase()===n.toString().toLocaleLowerCase()&&(E(),e.SetPoints(e.Points+1))}()}),[n]),g?Object(o.jsxs)("div",{children:["Erreur : ",g.message]}):y?Object(o.jsxs)("div",{className:"Card",children:[Object(o.jsx)("img",{src:d,alt:"Le drapeau \xe0 deviner"}),Object(o.jsx)("br",{}),Object(o.jsx)("input",{value:n,type:"text",onChange:function(e){return r(e.target.value)},placeholder:"Quel est le nom de pays associ\xe9 \xe0 ce drapeau"}),Object(o.jsx)("button",{onClick:E,children:"Pass"})]}):Object(o.jsx)("div",{children:"Chargement..."})},x=function(e){var t=Object(s.useState)(""),c=Object(O.a)(t,2),n=c[0],r=c[1],i=Object(j.f)();return Object(o.jsxs)("div",{className:"Score",children:[Object(o.jsx)("h1",{children:"Bravo tu as un score de:"}),Object(o.jsx)("h1",{children:e.Points}),Object(o.jsx)("br",{}),Object(o.jsx)("h1",{children:"Veux-tu enregistrer ton score ?"}),Object(o.jsx)("input",{value:n,type:"text",placeholder:"Ton pseudo ici",onChange:function(e){return r(e.target.value)}}),Object(o.jsx)("button",{className:"yes",onClick:function(){return function(){var t=e.Points,c=JSON.stringify({name:n,score:t});fetch("https://api.quiz.ourvoy.fr/leaderboard/",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:c}),i.push("/")}()},children:"Oui enregistre le avec ce pseudo"}),Object(o.jsx)("button",{className:"no",onClick:function(){return i.push("/")},children:"Non ca ira"})]})},p=c(16),m=function(e){var t=e.expiryTimestamp,c=Object(p.useTimer)({expiryTimestamp:t,onExpire:function(){e.SetFinished(!0)}}),s=c.seconds,n=c.minutes;return Object(o.jsx)("div",{className:"Timer",style:{fontSize:"100px"},children:Object(o.jsx)("span",{children:s+60*n})})},v=function(){var e=Object(s.useState)(!1),t=Object(O.a)(e,2),c=t[0],n=t[1],r=Object(s.useState)(0),i=Object(O.a)(r,2),a=i[0],j=i[1],b=new Date;return b.setSeconds(b.getSeconds()+120),Object(o.jsxs)("div",{className:"Quizz",children:[Object(o.jsx)(u,{}),Object(o.jsx)("h1",{children:"Ici c'est le quizz"}),c?Object(o.jsx)("div",{children:Object(o.jsx)(x,{Points:a})}):Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{className:"grid",children:[Object(o.jsx)("div",{children:Object(o.jsxs)("span",{children:["Score: ",a]})}),Object(o.jsx)("div",{className:"timer",children:Object(o.jsx)(m,{expiryTimestamp:b,SetFinished:n})})]}),Object(o.jsx)(h,{SetPoints:j,Points:a})]})]})},f=function(){var e=Object(s.useState)(null),t=Object(O.a)(e,2),c=t[0],n=t[1],r=Object(s.useState)(!1),i=Object(O.a)(r,2),a=i[0],j=i[1],b=Object(s.useState)([]),l=Object(O.a)(b,2),d=l[0],h=l[1];return Object(s.useEffect)((function(){fetch("https://api.quiz.ourvoy.fr/leaderboard/").then((function(e){return e.json()})).then((function(e){j(!0),h(e)}),(function(e){j(!0),n(e)}))}),[]),c?Object(o.jsxs)("div",{children:["Erreur : ",c.message]}):a?Object(o.jsxs)("div",{children:[Object(o.jsx)(u,{}),Object(o.jsxs)("div",{className:"Classement",children:[Object(o.jsx)("h1",{children:"Classement"}),Object(o.jsx)("ol",{children:d.map((function(e){return Object(o.jsxs)("li",{children:[e.name,": ",e.score]},e.name)}))})]})]}):Object(o.jsx)("div",{children:"Chargement..."})},S=function(){return Object(o.jsx)(a.a,{children:Object(o.jsxs)(j.c,{children:[Object(o.jsx)(j.a,{path:"/",exact:!0,component:l}),Object(o.jsx)(j.a,{path:"/a-propos",exact:!0,component:b}),Object(o.jsx)(j.a,{path:"/Quizz",exact:!0,component:v}),Object(o.jsx)(j.a,{path:"/Classement",exact:!0,component:f}),Object(o.jsx)(j.a,{component:d})]})})};c(30);i.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(S,{})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.2e42206f.chunk.js.map